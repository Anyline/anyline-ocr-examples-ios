{"$schema":"http://json-schema.org/draft-07/schema","title":"ScanView Configuration Schema (iOS, Android, Windows).","description":"Schema for SDK JSON configurations","type":"object","properties":{"cameraConfig":{"$ref":"#/definitions/cameraConfig"},"flashConfig":{"$ref":"#/definitions/flashConfig"},"viewPluginConfig":{"$ref":"#/definitions/viewPluginConfig"},"viewPluginCompositeConfig":{"$ref":"#/definitions/viewPluginCompositeConfig"},"options":{"type":"object"}},"definitions":{"cameraConfig":{"description":"Schema for SDK Camera Configuration","type":"object","properties":{"captureResolution":{"description":"The preferred resolution for video capture (720, 720p, 1080, 1080p). This resolution is used to process images for scanning.","type":"string"},"pictureResolution":{"description":"The preferred resolution for taking images (720, 720p, 1080, 1080p).","type":"string"},"defaultCamera":{"description":"The preferred camera of the device (FRONT, BACK, EXTERNAL, EXTERNAL_FRONT).","type":"string","default":"BACK"},"zoomGesture":{"description":"This flag enables or disables the zoom gesture if supported.","type":"boolean","default":false},"focalLength":{"description":"The focal length.","type":"number","default":0},"zoomRatio":{"description":"The zoom ratio.","type":"number","default":0},"maxZoomRatio":{"description":"The maximum zoom ratio.","type":"number","default":0},"maxFocalLength":{"description":"The maximum focal length.","type":"number","default":0},"fallbackCameras":{"description":"Optional cameras to fall back if the defaultCamera is not found.","type":"array","items":{"type":"string"}}},"required":["captureResolution"],"additionalProperties":false},"flashConfig":{"description":"Schema for SDK Flash Configuration","type":"object","properties":{"mode":{"description":"The flash mode.","type":"string","enum":["none","auto","manual","manual_off","manual_on"],"default":"none"},"alignment":{"description":"The alignment of the flash button.","type":"string","enum":["top","top_left","top_right","bottom","bottom_left","bottom_right"],"default":"top_left"},"offset":{"description":"An optional offset (in dp) for the flash button.","type":"object","properties":{"X":{"type":"integer","default":0},"Y":{"type":"integer","default":0}},"additionalProperties":false},"imageOn":{"description":"The asset name of the icon to be displayed when the flash is on.","type":"string"},"imageOff":{"description":"The asset name of the icon to be displayed when the flash is off.","type":"string"},"imageAuto":{"description":"The asset name of the icon to be displayed when the flash is set to auto.","type":"string"}},"required":[],"additionalProperties":false},"viewPluginConfig":{"description":"Schema for SDK ViewPlugin Configuration","type":"object","properties":{"pluginConfig":{"type":"object"},"cutoutConfig":{"$ref":"#/definitions/viewPluginConfig/definitions/cutoutConfig"},"scanFeedbackConfig":{"$ref":"#/definitions/viewPluginConfig/definitions/scanFeedbackConfig"},"uiFeedbackConfig":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig"}},"definitions":{"cutoutConfig":{"description":"Schema for SDK Cutout Configuration","type":"object","properties":{"alignment":{"description":"The alignment of the cutout area.","type":"string","enum":["top","top_half","center","bottom_half","bottom"],"default":"center"},"width":{"description":"The preferred width in pixels, relating to the camera resolution. If not specified or 0, the maximum possible width will be chosen.","type":"integer","default":0},"maxWidthPercent":{"description":"The maximum width in percent (0-100), relating to the size of the view.","type":"string"},"maxHeightPercent":{"description":"The maximum height in percent (0-100), relating to the size of the view.","type":"string"},"ratioFromSize":{"description":"A size constraining the ratio of width / height. If set to 0, the ratio will be equal to the full frame.","type":"object","properties":{"width":{"type":"integer","default":0},"height":{"type":"integer","default":0}},"additionalProperties":false},"strokeWidth":{"description":"The stroke width of the cutout. If set to 0, the line will be invisible.","type":"integer","default":0},"strokeColor":{"description":"The hex string (RRGGBB) of the stroke color. (e.g. 00CCFF).","type":"string","default":"0099FF"},"feedbackStrokeColor":{"description":"The hex string (RRGGBB) of the stroke color for visual feedback. (e.g. 00CCFF).","type":"string","default":"0099FF"},"cornerRadius":{"description":"Radius of the corners of the cutout.","type":"integer","default":0},"outerColor":{"description":"Background color as a 6-digit (RRGGBB) or 8-digit (AARRGGBB) hex string.","type":"string","default":"4D000000"},"outerAlpha":{"description":"Optional transparency factor for the outer color (0.0 - 1.0).","type":"number","minimum":0,"maximum":1},"offset":{"description":"Position offset of the cutout, used in conjunction with alignment.","type":"object","properties":{"x":{"type":"integer","default":0},"y":{"type":"integer","default":0}},"additionalProperties":false},"animation":{"description":"Animation type for the cutout when initially displayed. Values: none, fade, zoom","type":"string","enum":["none","fade","zoom"],"default":"none"},"cropPadding":{"description":"Amount of padding to be applied to the cutout (NOTE: use positive amounts only). A crop padding truncates the visual area represented by the cutout used in optimizing scan performance for some plugins. Define as a width-height structure.","type":"object","properties":{"width":{"type":"integer","default":0},"height":{"type":"integer","default":0}},"additionalProperties":false},"cropOffset":{"description":"Used in conjunction with cropPadding. This offset further adjusts the crop position after the padding is applied. Define as an x-y point structure.","type":"object","properties":{"width":{"type":"integer","default":0},"height":{"type":"integer","default":0}},"additionalProperties":false}},"required":[],"additionalProperties":false},"scanFeedbackConfig":{"description":"Schema for SDK ScanFeedback Configuration","type":"object","properties":{"style":{"description":"The style of the feedback.","type":"string","enum":["none","rect","contour_rect","contour_point","contour_underline","animated_rect"],"default":"rect"},"animation":{"description":"The animation style of the feedback.","type":"string","enum":["none","traverse_single","traverse_multi","kitt","blink","resize","pulse","pulse_random"],"default":"none"},"redrawTimeout":{"description":"The timeout to redraw the visual feedback in milliseconds.","type":"integer"},"cornerRadius":{"description":"The corner radius of the visual feedback.","type":"integer"},"animationDuration":{"description":"The duration of the animation in milliseconds.","type":"integer"},"strokeWidth":{"description":"The stroke width.","type":"integer"},"strokeColor":{"description":"The stroke color.","type":"string"},"fillColor":{"description":"The fill color.","type":"string"},"beepOnResult":{"description":"If true, make a beep sound when a result is found.","type":"boolean"},"blinkAnimationOnResult":{"description":"If true, flash the view when a result is found.","type":"boolean"},"vibrateOnResult":{"description":"If true, vibrate the device when a result is found.","type":"boolean"}},"required":[],"additionalProperties":false},"uiFeedbackConfig":{"description":"General configuration for UI Feedback elements","type":"object","properties":{"elements":{"type":"array","description":"Elements inside UIFeedbackConfig.","items":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/element"}},"presetDefinitions":{"type":"array","description":"Preset definitions inside UIFeedbackConfig.","items":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/presetDefinition"}},"presets":{"type":"array","description":"Allows to use presets.","items":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/preset"}}},"definitions":{"overlayScale":{"title":"OverlayScaleConfig","description":"Configuration for UI Feedback overlays","type":"object","properties":{"scaleValue":{"description":"Sets the scale value of the overlay.","type":"number"},"scaleType":{"title":"OverlayScaleTypeConfig","description":"Sets the scale type of the overlay.","type":"string","enum":["none","fixed_px","keep_ratio","overlay"]}}},"overlayDimension":{"title":"OverlayDimensionConfig","description":"Sets the dimension of the overlay.","type":"object","properties":{"scaleX":{"description":"Sets the scale for x axis of the overlay.","$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/overlayScale"},"scaleY":{"description":"Sets the scale for y axis of the overlay.","$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/overlayScale"}}},"overlayAnchor":{"title":"OverlayAnchorConfig","description":"Sets the anchor of the overlay relative to the source defined in the overlaySource.","type":"string","enum":["top_left","top_center","top_right","center_left","center","center_right","bottom_left","bottom_center","bottom_right"]},"overlaySource":{"type":"string","enum":["cutout"],"default":"cutout","description":"Sets the source of the overlay. Currently cutout is the only available overlay source."},"overlay":{"title":"OverlayConfig","description":"Configuration for UI Feedback overlays","type":"object","properties":{"source":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/overlaySource","description":"Sets the source of the overlay."},"anchor":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/overlayAnchor","description":"Sets the anchor of the overlay."},"sizeDimension":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/overlayDimension","description":"Sets the size dimension of the overlay."},"offsetDimension":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/overlayDimension","description":"Sets the offset dimension of the overlay."},"presets":{"type":"array","description":"Allows to use overlay presets.","items":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/preset"}}}},"content":{"title":"UIFeedbackElementContentConfig","description":"Configuration for UI Feedback content","type":"object","properties":{"contentValue":{"type":"string","default":"","description":"Sets the content of the element."},"durationMills":{"type":"integer","default":0,"minimum":0,"maximum":1000000,"description":"Sets the duration of the element."},"priorityLevel":{"type":"integer","default":1,"minimum":0,"maximum":100,"description":"Sets the priority of the element."}}},"triggerScanInfo":{"title":"UIFeedbackElementTriggerScanInfoConfig","description":"Configuration for triggering UI Feedback on ScanInfo events","type":"object","properties":{"applyDefaultContent":{"type":"boolean","default":false,"description":"Sets whether the trigger must apply defaultContent."},"applyContentInstead":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/content"},"applyDefaultAttributes":{"type":"boolean","default":false,"description":"Sets whether the trigger must apply defaultAttributes."},"applyAttributesInstead":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/elementAttributes"},"varNameEquals":{"type":"string","default":"","description":"Sets the ScanInfo variable name to be watched."},"varValueEquals":{"type":"string","default":"","description":"Sets the ScanInfo variable value to be watched."}}},"triggerRunSkipped":{"title":"UIFeedbackElementTriggerRunSkippedConfig","description":"Configuration for triggering UI Feedback on RunSkipped events","type":"object","properties":{"applyDefaultContent":{"type":"boolean","default":false,"description":"Sets whether the trigger must apply defaultContent."},"applyContentInstead":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/content"},"applyDefaultAttributes":{"type":"boolean","default":false,"description":"Sets whether the trigger must apply defaultAttributes."},"applyAttributesInstead":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/elementAttributes"},"codeEquals":{"type":"integer","default":"0","description":"Sets the runSkipped code to be watched."}}},"triggerWhenScanInfo":{"title":"UIFeedbackElementTriggerWhenScanInfoConfig","description":"Configuration for triggering UI Feedback on ScanInfo events","type":"object","properties":{"when":{"javaName":"whenElement","type":"object","$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/triggerScanInfo"}}},"triggerWhenRunSkipped":{"title":"UIFeedbackElementTriggerWhenRunSkippedConfig","description":"Configuration for triggering UI Feedback on RunSkipped events","type":"object","properties":{"when":{"javaName":"whenElement","type":"object","$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/triggerRunSkipped"}}},"elementTrigger":{"title":"UIFeedbackElementTriggerConfig","description":"Trigger configuration for UI Feedback","type":"object","properties":{"scanInfo":{"type":"array","description":"Allows to watch scanInfo events.","items":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/triggerWhenScanInfo"}},"runSkipped":{"type":"array","description":"Allows to watch runSkipped events.","items":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/triggerWhenRunSkipped"}},"presets":{"type":"array","items":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/preset"}}}},"elementType":{"type":"string","enum":["image","sound","text"],"default":"text","description":"Sets the view type of the element."},"elementAttributes":{"title":"UIFeedbackElementAttributesConfig","description":"Configuration attributes for UI Feedback view elements","type":"object","properties":{"textAlignment":{"type":"string","enum":["left","right","center"],"default":"center","description":"Sets the text alignment."},"textColor":{"type":"string","description":"Sets the text color."},"backgroundColor":{"type":"string","description":"Sets the background color."},"imageScaleType":{"type":"string","enum":["center","center_crop","fit_center","fit_xy"],"default":"fit_center","description":"Sets the image scale type."}}},"element":{"title":"UIFeedbackElementConfig","description":"Configuration for uiFeedback element","type":"object","properties":{"id":{"type":"string","description":"Sets the id of the element."},"contentType":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/elementType"},"defaultContent":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/content"},"clickable":{"type":"boolean","default":false,"description":"Sets whether the view is clickable."},"tag":{"type":"string","default":"","description":"Sets a tag for the element."},"defaultAttributes":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/elementAttributes"},"trigger":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/elementTrigger"},"overlay":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/overlay"},"presets":{"type":"array","description":"Allows to use element presets.","items":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/preset"}}}},"presetDefinitionAttribute":{"title":"UIFeedbackPresetDefinitionAttributeConfig","description":"Configuration for uiFeedback preset definition attribute.","type":"object","properties":{"name":{"type":"string","description":"Sets the name of the attribute."},"elementName":{"type":"string","description":"Sets the name of the element of the attribute."},"elementType":{"type":"string","enum":["int","long","double","boolean","string","any"],"description":"Sets the preset definition attribute element type."}}},"presetDefinition":{"title":"UIFeedbackPresetDefinitionConfig","description":"Configuration for uiFeedback preset definition.","type":"object","properties":{"name":{"type":"string","description":"Sets the name of the preset definition."},"type":{"type":"string","enum":["presetElementOverlay","presetElementTrigger","presetElement","preset"],"description":"Sets the preset definition type."},"attributes":{"type":"array","description":"Attributes inside preset definition.","items":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/presetDefinitionAttribute"}},"presetContent":{"title":"UIFeedbackPresetContentConfig","description":"Configuration for uiFeedback preset content definition.","type":"object","properties":{"overlay":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/overlay"},"trigger":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/elementTrigger"},"element":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/element"},"elements":{"type":"array","items":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/element"}},"presets":{"type":"array","items":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/preset"}}}}},"required":["name","type"],"allOf":[{"if":{"properties":{"type":{"const":"presetElementOverlay"}}},"then":{"properties":{"presetContent":{"required":["overlay"]}}}},{"if":{"properties":{"type":{"const":"presetElementTrigger"}}},"then":{"properties":{"presetContent":{"required":["trigger"]}}}},{"if":{"properties":{"type":{"const":"presetElement"}}},"then":{"properties":{"presetContent":{"required":["element"]}}}},{"if":{"properties":{"type":{"const":"preset"}}},"then":{"properties":{"presetContent":{"required":["elements"]}}}}]},"presetAttribute":{"title":"UIFeedbackPresetAttributeConfig","description":"Configuration for uiFeedback preset attribute.","type":"object","properties":{"attributeName":{"type":"string","description":"Name of the attribute declared in the preset definition."},"attributeValue":{"type":"string","description":"Sets the value of the attribute."}}},"preset":{"title":"UIFeedbackPresetConfig","description":"Configuration for uiFeedback preset.","type":"object","properties":{"presetName":{"type":"string","description":"Name of the preset."},"presetAttributes":{"type":"array","description":"Attributes inside preset.","items":{"$ref":"#/definitions/viewPluginConfig/definitions/uiFeedbackConfig/definitions/presetAttribute"}}}}}}},"required":["pluginConfig","scanFeedbackConfig"],"additionalProperties":false},"viewPluginCompositeConfig":{"description":"Schema for SDK ViewPlugin Configuration","type":"object","properties":{"id":{"description":"The ID (name) of the workflow.","type":"string"},"processingMode":{"description":"The processing mode of the workflow (parallel, sequential, parallelFirstScan).","type":"string","enum":["parallel","sequential","parallelFirstScan"]},"viewPlugins":{"description":"The ordered list of viewPlugins, each as JSON object with a given viewPluginConfig.","type":"array","items":{"type":"object","properties":{"viewPluginConfig":{"$ref":"#/definitions/viewPluginConfig"}},"additionalProperties":false},"minItems":1}},"required":["id","processingMode","viewPlugins"],"additionalProperties":false}},"required":[],"additionalProperties":false}
